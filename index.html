<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matriz de Eisenhower - Gestão de Tarefas</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header__title-wrapper">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z" />
                </svg>
                <h1 class="header__title">Matriz de Eisenhower</h1>
            </div>

            <div class="header__actions">
                <button class="btn btn--sm btn--secondary" id="menu-btn" title="Abrir menu">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="m18.75 4.5-7.5 7.5 7.5 7.5m-6-15L5.25 12l7.5 7.5" />
                    </svg>
                </button>
            </div>
        </div>
    </header>
    <main class="main">
        <div class="container">
            <div class="matrix" id="matrix" data-view-mode="grid">
                <section class="quadrant" data-quadrant="q1">
                    <header class="quadrant__header" style="background-color: #ef4444;">
                        <h2 class="quadrant__title">Fazer Primeiro</h2>
                        <p class="quadrant__subtitle">Urgente e Importante</p>
                    </header>
                    <div class="quadrant__content">
                        <div class="task-list" id="tasks-q1"></div>
                        <button class="add-task-btn" data-quadrant="q1"><span>+</span> <span>Adicionar Tarefa</span></button>
                    </div>
                </section>
                <section class="quadrant" data-quadrant="q2">
                    <header class="quadrant__header" style="background-color: #3b82f6;">
                        <h2 class="quadrant__title">Agendar</h2>
                        <p class="quadrant__subtitle">Importante mas não Urgente</p>
                    </header>
                    <div class="quadrant__content">
                        <div class="task-list" id="tasks-q2"></div>
                        <button class="add-task-btn" data-quadrant="q2"><span>+</span> <span>Adicionar Tarefa</span></button>
                    </div>
                </section>
                <section class="quadrant" data-quadrant="q3">
                    <header class="quadrant__header" style="background-color: #f59e0b;">
                        <h2 class="quadrant__title">Delegar</h2>
                        <p class="quadrant__subtitle">Urgente mas não Importante</p>
                    </header>
                    <div class="quadrant__content">
                        <div class="task-list" id="tasks-q3"></div>
                        <button class="add-task-btn" data-quadrant="q3"><span>+</span> <span>Adicionar Tarefa</span></button>
                    </div>
                </section>
                <section class="quadrant" data-quadrant="q4">
                    <header class="quadrant__header" style="background-color: #22c55e;">
                        <h2 class="quadrant__title">Eliminar</h2>
                        <p class="quadrant__subtitle">Nem Urgente nem Importante</p>
                    </header>
                    <div class="quadrant__content">
                        <div class="task-list" id="tasks-q4"></div>
                        <button class="add-task-btn" data-quadrant="q4"><span>+</span> <span>Adicionar Tarefa</span></button>
                    </div>
                </section>
            </div>
            </div>
    </main>
    <div class="modal hidden" id="help-modal">
    <div class="modal__overlay"></div>
    <div class="modal__content">
        <div class="modal__header">
            <h3>Como Usar a Matriz</h3>
            <button class="modal__close" id="close-help-modal">&times;</button>
            </div>
            <div class="modal__body">
                <div class="help-section">
                    <h4>Q1: Fazer Primeiro</h4>
                    <p>Tarefas urgentes e importantes. Resolva-as imediatamente.</p>
                </div>
                <div class="help-section">
                    <h4>Q2: Agendar</h4>
                    <p>Tarefas importantes, mas não urgentes. Planeje um tempo para elas.</p>
                </div>
                <div class="help-section">
                    <h4>Q3: Delegar</h4>
                    <p>Tarefas urgentes, mas não importantes. Delegue para outra pessoa se possível.</p>
                </div>
                <div class="help-section">
                    <h4>Q4: Eliminar</h4>
                    <p>Tarefas que não são nem urgentes nem importantes. Evite-as.</p>
                </div>
            </div>
        </div>
    </div>

    <div class="modal hidden" id="stats-modal">
        <div class="modal__overlay"></div>
        <div class="modal__content">
            <div class="modal__header">
                <h3>Estatísticas (Em Breve)</h3>
                <button class="modal__close" id="close-stats-modal">&times;</button>
            </div>
            <div class="modal__body">
                <p>A funcionalidade de estatísticas e gráficos de produtividade será adicionada em uma versão futura. Aguarde!</p>
            </div>
        </div>
    </div>

    <template id="task-template">
        <div class="task" draggable="true">
            <div class="task__main">
                <div class="task__content">
                    <input type="checkbox" class="task__checkbox">
                    <span class="task__text" contenteditable="true"></span>
                </div>
            </div>
            <div class="task__aside">
                <div class="task__due-date" title="Definir/alterar data de vencimento">
                    </div>
                <input type="date" class="task__date-input hidden">
            </div>
            <div class="subtask-section">
                <div class="subtask-list"></div>
                <button type="button" class="add-subtask-placeholder-btn" title="Adicionar subtarefa">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                    </svg>
                    <span>Adicionar subtarefa</span>
                </button>
                <form class="add-subtask-form hidden">
                    <input type="text" class="add-subtask-input" placeholder="Nova subtarefa..." maxlength="100">
                    <button type="submit" class="add-subtask-btn" title="Salvar subtarefa">+</button>
                </form>
            </div>
            <button class="task__delete" title="Excluir tarefa">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" /></svg>
            </button>
        </div>
    </template>
    
    <template id="task-input-template">
        <div class="task-input">
            <input type="text" class="task-input__field" placeholder="Digite sua tarefa..." maxlength="200">
            <div class="task-input__extra-fields">
                <label for="task-due-date-input" style="font-size: 12px; color: var(--color-text-secondary);">Data de Vencimento (Opcional):</label>
                <input type="date" class="task-input__date-field" id="task-due-date-input">
            </div>
            <div class="task-input__actions">
                <button class="btn btn--sm btn--primary task-input__save">Salvar</button>
                <button class="btn btn--sm btn--secondary task-input__cancel">Cancelar</button>
            </div>
        </div>
    </template>
    <div id="toast-container"></div>
    
    <div class="sheet" id="sheet-menu">
        <div class="sheet__overlay" data-action="close-sheet"></div>
        <div class="sheet__content">
            <div class="sheet__header">
                <h3 class="sheet__title">Opções</h3>
                <p class="sheet__description">
                    Ajustes, ajuda e gerenciamento de dados. </p>
            </div>
            <div class="sheet__body">
                <button class="sheet__button" id="sheet-view-toggle-btn">Alternar Visualização</button>
                <button class="sheet__button" id="sheet-help-btn">Ajuda e Guia Rápido</button>
                <button class="sheet__button" id="sheet-stats-btn">Estatísticas</button>
                <button class="sheet__button" id="sheet-export-btn">Exportar Tarefas</button>
                <button class="sheet__button" id="sheet-import-btn">Importar Tarefas</button>
            </div>
            <div class="sheet__footer">
                <button class="btn btn--outline" data-action="close-sheet">Fechar</button>
            </div>
        </div>
    </div>

    <input type="file" id="import-file-input" class="hidden" accept=".json">

    <script src="js/app.js" type="module"></script>
</body>
</html>